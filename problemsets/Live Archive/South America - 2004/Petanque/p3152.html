<html><head><title>3152 - Petanque</title></head><body><table cellpadding=3 cellspacing=0 border=1 align=center><tr valign=center><td ROWSPAN=2 align=center valign=center><font size=5 color=0000A0><b><img src="icono.gif"></b></font></td><td COLSPAN=5 width=500 align=center><font size=5 color=0000A0><b>3152 - Petanque</b></font><br><a href="http://acmicpc-live-archive.uva.es/nuevoportal/region.php?r=sa&year=2004"><b>Latin America - South America - 2004/2005</b></a></font></td></tr><tr valign=center><td width=100 align=center><a href="http://acmicpc-live-archive.uva.es/nuevoportal/data/p3152.pdf"><b>PDF</b></a></td><td width=100 align=center><a href="http://acmicpc-live-archive.uva.es/nuevoportal/data/p3152.ps.gz"><b>PostScript</b></a></td><td width=100 align=center><a href="http://acmicpc-live-archive.uva.es/nuevoportal/mailer.php?problem=3152"><b>Submit</b></a></td><td width=100>&nbsp;</td><td width=100 align=center><a href="http://acmicpc-live-archive.uva.es/nuevoportal/rankprob.php?p=3152"><b>Ranking</b></a></td></tr></table><p>&nbsp;</p><p>Petanque, a game which uses balls (some boules and one coche), was developed in the small
town of La Ciotat, near Marseilles, France. The aim of the game is simple. If playing football
is kicking a ball into the opposite goal and keeping it out of your own, playing petanque is
placing your boules nearer to the coche and keeping your opponent’s boules away.

<p>One simplified version of the game is played between two players, one against the other, with
three boules each. The players are located in a plane and one of them starts the game by
throwing the coche forward. The player who throws the coche also throws the first boule. The
opposing player throws the second boule. From then on, the player who has not thrown the
boule which is the nearest to the coche throws the next boule (you may assume that there will
be only one boule nearest to the coche). This continues until one player has thrown all his
boules. After this, the other player throws all his remaining boules. The winner is the player
who has thrown the ball which in the end is nearest to the coche (again, you may assume that
there will be only one boule nearest to the coche). The winning player claims as many points
as there are boules thrown by him nearer the coche than any other opposing boules.

<p>You are invited to simulate some games of Petanque. For simulation purposes, we will consider
that the playing floor is a plane and the balls are adimensional (they can be considered as
points). You will be given the names of the two players. The first player given will be the
first to play. For each ball (coche or boules) thrown, you will be given the starting position
of the ball, its direction and how many meters it will roll. You may assume that the starting
position of the balls are inside the playing floor, the balls will never leave the floor and the
starting position of a ball will never coincide with the current position of another ball in the
playing floor. The direction of each ball is given in degrees where the east direction (x-positive)
corresponds to zero degrees and the degrees increase in the counter-clockwise direction, as
shown in the figure below. When a ball that was thrown knocks another ball in its way, the

<p align=center><img src=p3152a.gif>

<p>thrown ball stops. The ball which was still starts moving in the same direction for an amount
of meters equal to the quantity of meters that the thrown ball would still roll if there was no
ball in its way (this amount will NEVER be zero meters). If this ball encounters another one,
the procedure is repeated (here again the amount of meters still to roll will never be zero).

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001001000000000000000">
Input</A>&nbsp;</FONT>
</H2>

<P>The input consists of several test cases. The first line in the input contains an integer N
specifying the number of test cases (1 &le; N &le; 10000). The first line of a test case contains the
name of the two players separated by one space. A player name is composed of at most 20
letters from the English alphabet (from ‘A’ through ‘Z’ and ‘a’ through ‘z’). The next seven
lines describe the seven balls in the order they are thrown in the game (first the coche and then
the boules thrown by the players according to the rules above). Each line contains four integers
X, Y , <img src=p3152b.gif> and D representing respectively the starting position of a ball (-1000 &le; X, Y &le; 1000),
its direction (0 &le; <img src=p3152b.gif> &le; 360) and the distance (0 &lt; D &le; 100) it will roll if it does not encounter
any other ball in its way.


<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001002000000000000000">
Output</A>&nbsp;</FONT>
</H2>

<P>For each test case in the input, your program must produce one line containing the name of
the player who won the game and how many points she/he scored separated by a single space.

<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001003000000000000000">
Sample Input</A>&nbsp;</FONT>
</H2>
<PRE>
2
Alex BobNelson
0 0 90 30
0 0 90 20
0 0 0 10
-5 0 0 5
0 40 270 18
0 10 90 13
-1 24 315 1
Alice Alex
0 0 90 50
0 0 90 20
0 0 180 20
-5 0 0 5
0 40 270 18
0 10 90 13
-1 24 315 1
</PRE>
<H2><FONT size=4 COLOR=#ff0000><A NAME="SECTION0001004000000000000000">
Sample Output</A>&nbsp;</FONT>
</H2>
<PRE>
Alex 3
Alice 1
</PRE>

<P>
<hr><ADDRESS>South America 2004-2005</ADDRESS><p></body></html>
